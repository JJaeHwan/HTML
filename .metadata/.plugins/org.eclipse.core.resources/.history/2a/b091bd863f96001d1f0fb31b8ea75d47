<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<script src="../js/jquery-3.6.3.min.js" type="text/javascript"></script>

<script type="text/javascript">
	$(function() {
		
		xhr = new XMLHttpRequest();
		
		$('#btn1').on('click', function() {
			
// 			location.href="memberList.jsp";
			// 비동기 방식으로 요청
			xhr.open('get', 'memberList.jsp', true);
			xhr.send();
			
			//응답
			xhr.onreadystatechange = function() {
				
				if(this.readyState ==4 && this.status == 200){
					
					// 응답 받기 - json객체 배열
					res = JSON.parse(this.responseText);
					
					code = "<table border='1'>";
					code+= "<tr><td>아이디</td>";
					code+= "<td>이름</td>";
					code+= "<td>전화번호</td>";
					code+= "<td>이메일</td>";
					code+= "<td>주소</td></tr>";
					
					$.each(res, function(i,v) {
						code+= "<tr><td>" + v.id + "</td>";
						code+= "<td>" + v.name + "</td>";
						code+= "<td>" + v.hp + "</td>";
						code+= "<td>" + v.mail + "</td>";
						code+= "<td>" + v.add1 + "</td></tr>";
						
					})
					
					code += "</table>";
					$('#res1').html(code);
				}
			
				
			}			
		})
		
	})

</script>
<style type="text/css">


</style>
</head>
<body>


<div class="box">
	<br><br>
	<input type="button" value="확인" id="btn1">
	<br>
	
	<div id="res1"></div>
</div>
</body>
</html>