<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<script src="../js/jquery-3.6.3.min.js" type="text/javascript"></script>

<script type="text/javascript">

xhr = new XMLHttpRequest();

	$(function() {
		$('#text').on('click', function() {
			
			// 요청
			xhr.open('get', 'text.jsp', true);
			xhr.send()
			
			// 응답
			xhr.onreadystatechange = function() {
				
				if(this.readyState==4 && this.status == 200){
					res = this.responseText;
					
					arr = res.split("/");
					
					code = "<ul>";
					
					$.each(arr, function(i,v) {
						code += "<li>" + arr[i] +"</li>"
					})
					
					code += "</ul>";
					
					$('#res1').html(code);
					
					
				}
			}
			
		})
		
		$('#jobj').on('click', function() {
			
			xhr.open('get', 'jobj.jsp', true);
			xhr.send()
			xhr.onreadystatechange = function() {
				
				if(this.readyState==4 && this.status == 200){
			
					res =  JSON.parse(this.responseText)
					
					// 출력 모양
					code = "<p>아이디 : " + res.id + "</p>"; 
					code += "<p>이  름 : " + res.name + "</p>"; 
					code += "<p>전화번호 : " + res.tel + "</p>"; 
					code += "<p>주  소 : " + res.addr + "</p>"; 
					
					$('#res2').html(code);
					
				}
		}	
	})
	
	$('#jarr').on('click', function() {
		xhr.open('get', 'jarr.jsp', true);
		xhr.send()
		xhr.onreadystatechange = function() {
			
			if(this.readyState==4 && this.status == 200){
				res = JSON.parse(this.responseText)
								
				code = "<ol>";
				$.each(res, function(i) {
					code += "<li>" + res[i] + "</li>";
					code += `<li>{res[i]}</li>`;
					
					
				})
			}
		}
	})
		
})

</script>

<style type="text/css">
  

</style>

</head>
<body>


<div class="box">
	<br><br>
	<input type="button" value="text" id="text">
	<input type="button" value="jsonobj" id="jobj">
	<input type="button" value="jsonarr" id="jarr">
	<input type="button" value="jsonmix" id="jmix">
	<br>
	
	<div id="res1"></div>
	<div id="res2"></div>
	<div id="res3"></div>
	<div id="res4"></div>
</div>
</body>
</html>